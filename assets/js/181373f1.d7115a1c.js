"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[681],{6629:e=>{e.exports=JSON.parse('{"DU":"Sentinel","_E":"SOM_SL1680_Mk1","tH":"CMSAC1_AS6806_A","mQ":"sentinel_som_sl1680_mk1","zn":"EVK_SL1680_Mk1","sV":"CMCGAS_AGSL_A","UW":"sentinel-core","ND":"sentinel-media","Uf":"sentinel-media-oobe","IM":"meta-dctk-sentinel","Cy":"root","PO":"setinel"}')},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>o});var s=t(6540);const i={},r=s.createContext(i);function a(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(r.Provider,{value:n},e.children)}},9214:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"hardware-docs/m_dot_2","title":"M.2 PCIe / M.2 SDIO","description":"Let\'s verify M.2 Interface.","source":"@site/docs/hardware-docs/m_dot_2.mdx","sourceDirName":"hardware-docs","slug":"/hardware-docs/m_dot_2","permalink":"/test/docs/hardware-docs/m_dot_2","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":10,"frontMatter":{"sidebar_position":10},"sidebar":"tutorialSidebar","previous":{"title":"I2C","permalink":"/test/docs/hardware-docs/i2c"},"next":{"title":"Software-Documentation","permalink":"/test/docs/category/software-documentation"}}');var i=t(4848),r=t(8453);t(6629),t(6540);const a={sidebar_position:10},o="M.2 PCIe / M.2 SDIO",c={},d=[{value:"Getting Started.",id:"getting-started",level:2},{value:"Testing M.2 PCIe",id:"testing-m2-pcie",level:2},{value:"Steps",id:"steps",level:3},{value:"1. Generate the WPA Pre-shared Key",id:"1-generate-the-wpa-pre-shared-key",level:4},{value:"2. Bringing up the WLAN Interface",id:"2-bringing-up-the-wlan-interface",level:4},{value:"3. Creating the WPA Supplicant Configuration File",id:"3-creating-the-wpa-supplicant-configuration-file",level:4},{value:"4. Configure systemd-networkd",id:"4-configure-systemd-networkd",level:4},{value:"5. Enable Wifi Services",id:"5-enable-wifi-services",level:4},{value:"Performing throughput tests",id:"performing-throughput-tests",level:2}];function l(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"m2-pcie--m2-sdio",children:"M.2 PCIe / M.2 SDIO"})}),"\n",(0,i.jsxs)(n.p,{children:["Let's verify ",(0,i.jsx)(n.strong,{children:"M.2 Interface"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"getting-started",children:"Getting Started."}),"\n",(0,i.jsx)(n.h2,{id:"testing-m2-pcie",children:"Testing M.2 PCIe"}),"\n",(0,i.jsx)(n.p,{children:"In this document, we verify the M.2 PCIe interface using a AP6275P WIFI module."}),"\n",(0,i.jsx)(n.p,{children:"Plug the module to the M.2 port and follow the steps below."}),"\n",(0,i.jsx)(n.h3,{id:"steps",children:"Steps"}),"\n",(0,i.jsx)(n.h4,{id:"1-generate-the-wpa-pre-shared-key",children:"1. Generate the WPA Pre-shared Key"}),"\n",(0,i.jsx)(n.p,{children:"Generating a pre-shared key from a passphrase avoids having to store the passphrase in the WPA Supplicant config file."}),"\n",(0,i.jsx)(n.p,{children:"From the shell, use the wpa_passphrase command line tool to generate a WPA pre-shared key from a passphrase:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'root@sentinel:~# wpa_passphrase network_name 12345678\nnetwork={\n    ssid="network_name"\n    psk=5ba83b0673ea069dafe5d5f1af8216771c13be6ad6f11dac9dc0e90b0c604981\n}\n'})}),"\n",(0,i.jsx)(n.h4,{id:"2-bringing-up-the-wlan-interface",children:"2. Bringing up the WLAN Interface"}),"\n",(0,i.jsxs)(n.p,{children:["Use ",(0,i.jsx)(n.code,{children:"ifconfig"})," to instruct the kernel to bring up the wlan interface:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ifconfig wlan0 up\n"})}),"\n",(0,i.jsx)(n.h4,{id:"3-creating-the-wpa-supplicant-configuration-file",children:"3. Creating the WPA Supplicant Configuration File"}),"\n",(0,i.jsxs)(n.p,{children:["WPA Supplicant uses a config file to configure the Wifi connection. This configuration file is located in ",(0,i.jsx)(n.code,{children:"/etc/wpa_supplicant"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["Create the ",(0,i.jsx)(n.code,{children:"/etc/wpa_supplicant"})," directory:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"mkdir -p /etc/wpa_supplicant\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Create the file ",(0,i.jsx)(n.code,{children:"/etc/wpa_supplicant/wpa_supplicant-wlan0.conf"})," with options for your Wifi Network."]}),"\n",(0,i.jsx)(n.p,{children:"Contents of an example wpa_supplicant-wlan0.conf:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'ctrl_interface=/var/run/wpa_supplicant\nctrl_interface_group=0\nupdate_config=1\n\nnetwork={\n    ssid="network_name"\n    psk=5ba83b0673ea069dafe5d5f1af8216771c13be6ad6f11dac9dc0e90b0c604981\n    key_mgmt=WPA-PSK\n    scan_ssid=1\n}\n'})}),"\n",(0,i.jsx)(n.h4,{id:"4-configure-systemd-networkd",children:"4. Configure systemd-networkd"}),"\n",(0,i.jsx)(n.p,{children:"The wlan interface needs to be enabled in the systemd-networkd system daemon configuration."}),"\n",(0,i.jsx)(n.p,{children:"Create the new file /etc/systemd/network/25-wlan.network with the following contents:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"[Match]\nName=wlan0\n\n[Network]\nDHCP=ipv4\nDNS=8.8.8.8\nDNS=8.8.4.4\n"})}),"\n",(0,i.jsx)(n.h4,{id:"5-enable-wifi-services",children:"5. Enable Wifi Services"}),"\n",(0,i.jsx)(n.p,{children:"The network daemons need to be restarted to load the new configuration."}),"\n",(0,i.jsx)(n.p,{children:"Restart network daemons:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"systemctl restart systemd-networkd.service\nsystemctl restart wpa_supplicant@wlan0.service\n"})}),"\n",(0,i.jsx)(n.p,{children:"You can enable wpa_supplicant on boot up by"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"systemctl enable wpa_supplicant@wlan0.service\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Use the ",(0,i.jsx)(n.code,{children:"ifconfig"})," command to verify that ",(0,i.jsx)(n.code,{children:"wlan0"})," is enabled."]}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsx)(n.p,{children:"If wlan0 does not appear in the ifconfig output, then you may need to run the sync command and reboot. This will make sure that the configuration changes were applied."})}),"\n",(0,i.jsx)(n.h2,{id:"performing-throughput-tests",children:"Performing throughput tests"}),"\n",(0,i.jsxs)(n.p,{children:["After enabling the wlan test the connection speed using ",(0,i.jsx)(n.code,{children:"iperf3"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}}}]);